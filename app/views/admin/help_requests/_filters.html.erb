<%= form_tag admin_help_requests_path, method: 'GET', class: 'mb-4' do %>
  <div class='row'>
    <div class='col-4'>
      <div class="input-group ml-0">
        <%= text_field_tag :search, params[:search], placeholder: 'Поиск...', class: 'form-control' %>
        <div class="input-group-append">
          <%= submit_tag 'Искать', class: 'btn btn-outline-success' %>
        </div>
      </div>
    </div>
    <div class='col-4'>
      <div class="field form-check ml-4 mt-4 float-left">
        <%= check_box_tag :overdue, true, params[:overdue], class: 'form-check-input' %>
        <%= label_tag :overdue, 'Показать просроченные просьбы' %>
      </div>
    </div>
    <div class='col-4'>
      <%= link_to 'Сбросить фильтры', admin_help_requests_path, class: 'btn btn-sm float-right btn-outline-secondary mt-4' %>
    </div>
  </div>

  <div class='form-inline mt-2'>
    <div class="form-group mx-sm-3 mb-2">
      <%= select_tag :states,
                     options_for_select(HelpRequest.states.map { |state| [I18n.t("help_request.states.#{state[0]}"),
                                                                          state[0],
                                                                          {class: ''}] },
                                        params[:states]),
                     title: 'Фильтр по статусу...',
                     multiple: true,
                     class: 'selectpicker' %>
    </div>
    <div class='col-4'>
      Найдено записей: <b><%= @help_requests_count %></b>
    </div>
  </div>
<% end %>


